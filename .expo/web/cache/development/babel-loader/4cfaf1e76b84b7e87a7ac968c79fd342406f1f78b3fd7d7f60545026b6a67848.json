{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Camera, CameraType, requestCameraPermissionsAsync, getCameraPermissionsAsync } from \"expo-camera\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport * as ImageManipulator from \"expo-image-manipulator\";\nimport axios from \"axios\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from \"@react-navigation/native\";\nimport ConstButtonShort from \"./ConstButtonShort\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CameraScan(_ref) {\n  var title = _ref.title,\n    style = _ref.style;\n  var _useState = useState(CameraType.back),\n    _useState2 = _slicedToArray(_useState, 2),\n    cameraMode = _useState2[0],\n    setCameraMode = _useState2[1];\n  var _useState3 = useState(\"off\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    flash = _useState4[0],\n    setFlash = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    pictureUri = _useState6[0],\n    setPictureUri = _useState6[1];\n  var cameraRef = useRef();\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showPicture = _useState8[0],\n    setShowPicture = _useState8[1];\n  var navigation = useNavigation();\n  var handleORCRScreen = function handleORCRScreen() {\n    navigation.navigate('FormScreen');\n  };\n  useEffect(function () {\n    requestPermission();\n  }, []);\n  var requestPermission = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      yield requestCameraPermissionsAsync();\n    });\n    return function requestPermission() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var getPermission = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var cameraPermission = yield getCameraPermissionsAsync();\n      return cameraPermission.granted;\n    });\n    return function getPermission() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var takePicture = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      var _yield$cameraRef$curr = yield cameraRef == null ? void 0 : cameraRef.current.takePictureAsync(),\n        uri = _yield$cameraRef$curr.uri,\n        width = _yield$cameraRef$curr.width,\n        height = _yield$cameraRef$curr.height;\n      var cropWidth = 2500;\n      var cropHeight = 1450;\n      var left = 270;\n      var top = 1300;\n      try {\n        var croppedImage = yield ImageManipulator.manipulateAsync(uri, [{\n          crop: {\n            originX: left,\n            originY: top,\n            width: cropWidth,\n            height: cropHeight\n          }\n        }], {\n          compress: 0.8,\n          format: ImageManipulator.SaveFormat.JPEG\n        });\n        setPictureUri(croppedImage.uri);\n        setShowPicture(true);\n      } catch (error) {\n        console.log(\"Error cropping the image:\", error);\n      }\n    });\n    return function takePicture() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var cancelPicture = function cancelPicture() {\n    setPictureUri(\"\");\n    setShowPicture(false);\n  };\n  var handleNextButton = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        var _response$data, _response$data$Parsed;\n        if (!pictureUri) {\n          Alert.alert(\"Please take a picture first.\");\n          return;\n        }\n        var apiKey = 'K82669019388957';\n        var apiUrl = 'https://api.ocr.space/parse/image';\n        var formData = new FormData();\n        formData.append('apikey', apiKey);\n        formData.append('language', 'eng');\n        formData.append('isOverlayRequired', 'false');\n        formData.append('file', {\n          uri: pictureUri,\n          name: 'image.jpg',\n          type: 'image/jpeg'\n        });\n        formData.append('OCREngine', '2');\n        var response = yield axios.post(apiUrl, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        if ((response == null ? void 0 : (_response$data = response.data) == null ? void 0 : (_response$data$Parsed = _response$data.ParsedResults) == null ? void 0 : _response$data$Parsed.length) > 0) {\n          var _response$data$Parsed2;\n          var extractedText = ((_response$data$Parsed2 = response.data.ParsedResults[0]) == null ? void 0 : _response$data$Parsed2.ParsedText) || \"No text found.\";\n        } else {\n          Alert.alert(\"Text extraction failed. Please try again later.\");\n        }\n      } catch (error) {\n        console.log(\"Error extracting text:\", error);\n        Alert.alert(\"Error extracting text. Please try again later.\");\n      }\n    });\n    return function handleNextButton() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  if (!getPermission()) {\n    return Alert.alert(\"Permission Required!\", \"You need to provide the permissions to access the camera\", [{\n      text: \"Got it\"\n    }]);\n  }\n  var switchFlashMode = function switchFlashMode() {\n    setFlash(flash === \"off\" ? \"on\" : \"off\");\n  };\n  var pickImage = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [16, 9],\n        quality: 0.8\n      });\n      console.log(result);\n      if (!result.canceled) {\n        setPictureUri(result.assets[0].uri);\n        setShowPicture(true);\n      }\n    });\n    return function pickImage() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [showPicture ? _jsxs(View, {\n      style: styles.pictureContainer,\n      children: [_jsx(Image, {\n        style: styles.picture,\n        source: {\n          uri: pictureUri\n        }\n      }), _jsxs(View, {\n        style: {\n          height: 250,\n          width: 300,\n          position: \"absolute\",\n          marginTop: 550,\n          top: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"row\"\n        },\n        children: [_jsx(ConstButtonShort, {\n          onPress: cancelPicture,\n          name: \"close\",\n          title: \"Cancel\",\n          backgroundColor: \"#C8B23D\"\n        }), _jsx(ConstButtonShort, {\n          onPress: handleNextButton && handleORCRScreen,\n          name: \"check\",\n          title: \"Next\",\n          backgroundColor: \"#5F5DC5\"\n        })]\n      })]\n    }) : _jsxs(View, {\n      style: styles.cameraContainer,\n      children: [_jsx(Camera, {\n        ref: cameraRef,\n        style: styles.camera,\n        type: cameraMode,\n        flashMode: flash\n      }), _jsxs(View, {\n        style: styles.controlsContainer,\n        children: [_jsx(Feather, {\n          name: \"image\",\n          size: 35,\n          color: \"white\",\n          onPress: pickImage\n        }), _jsx(TouchableOpacity, {\n          style: styles.takePictureBtn,\n          onPress: takePicture\n        }), _jsx(Feather, {\n          name: flash === \"off\" ? \"zap-off\" : \"zap\",\n          size: 30,\n          onPress: switchFlashMode,\n          color: \"white\"\n        })]\n      })]\n    }), !showPicture && _jsx(View, {\n      style: style,\n      children: _jsx(Text, {\n        style: styles.cardText,\n        children: title\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  cameraContainer: {\n    flex: 1,\n    position: \"relative\"\n  },\n  camera: {\n    flex: 1\n  },\n  controlsContainer: {\n    backgroundColor: \"rgba(57, 92, 219, 1)\",\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\"\n  },\n  takePictureBtn: {\n    backgroundColor: \"#fff\",\n    borderRadius: 35,\n    height: 70,\n    width: 70,\n    marginVertical: 10\n  },\n  cardText: {\n    color: \"white\",\n    letterSpacing: 1.5,\n    textAlign: \"justify\"\n  },\n  pictureContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  picture: {\n    width: \"100%\",\n    height: \"100%\",\n    resizeMode: \"contain\"\n  },\n  cancelBtn: {\n    position: \"absolute\",\n    bottom: 100,\n    backgroundColor: \"#fff\",\n    borderRadius: 10,\n    padding: 10,\n    right: 95\n  },\n  cancelText: {\n    color: \"red\",\n    fontSize: 16\n  },\n  nextBtn: {\n    position: \"absolute\",\n    bottom: 100,\n    backgroundColor: \"#fff\",\n    borderRadius: 10,\n    padding: 10,\n    paddingHorizontal: 20,\n    left: 95\n  },\n  nextText: {\n    color: \"green\",\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useRef","View","TouchableOpacity","StyleSheet","Alert","Image","Text","Camera","CameraType","requestCameraPermissionsAsync","getCameraPermissionsAsync","Feather","ImageManipulator","axios","ImagePicker","useNavigation","ConstButtonShort","jsx","_jsx","jsxs","_jsxs","CameraScan","_ref","title","style","_useState","back","_useState2","_slicedToArray","cameraMode","setCameraMode","_useState3","_useState4","flash","setFlash","_useState5","_useState6","pictureUri","setPictureUri","cameraRef","_useState7","_useState8","showPicture","setShowPicture","navigation","handleORCRScreen","navigate","requestPermission","_ref2","_asyncToGenerator","apply","arguments","getPermission","_ref3","cameraPermission","granted","takePicture","_ref4","_yield$cameraRef$curr","current","takePictureAsync","uri","width","height","cropWidth","cropHeight","left","top","croppedImage","manipulateAsync","crop","originX","originY","compress","format","SaveFormat","JPEG","error","console","log","cancelPicture","handleNextButton","_ref5","_response$data","_response$data$Parsed","alert","apiKey","apiUrl","formData","FormData","append","name","type","response","post","headers","data","ParsedResults","length","_response$data$Parsed2","extractedText","ParsedText","text","switchFlashMode","pickImage","_ref6","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","canceled","assets","styles","container","children","pictureContainer","picture","source","position","marginTop","justifyContent","alignItems","flexDirection","onPress","backgroundColor","cameraContainer","ref","camera","flashMode","controlsContainer","size","color","takePictureBtn","cardText","create","flex","borderRadius","marginVertical","letterSpacing","textAlign","resizeMode","cancelBtn","bottom","padding","right","cancelText","fontSize","nextBtn","paddingHorizontal","nextText"],"sources":["C:/Users/SAGRADO/Desktop/citisafemob/src/components/CameraScan.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { \r\n    View, \r\n    TouchableOpacity, \r\n    StyleSheet, \r\n    Alert, \r\n    Image,\r\n    Text } from \"react-native\";\r\nimport { \r\n    Camera, \r\n    CameraType, \r\n    requestCameraPermissionsAsync, \r\n    getCameraPermissionsAsync, // Fixed typo here\r\n} from \"expo-camera\";\r\nimport Feather from \"@expo/vector-icons/Feather\";\r\nimport * as ImageManipulator from \"expo-image-manipulator\";\r\nimport axios from \"axios\";\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport ConstButtonShort from \"./ConstButtonShort\";\r\n\r\nexport default function CameraScan({title, style}) {\r\n    const [cameraMode, setCameraMode] = useState(CameraType.back);\r\n    const [flash, setFlash] = useState(\"off\"); // Changed to string type\r\n    const [pictureUri, setPictureUri] = useState(\"\");\r\n    const cameraRef = useRef();\r\n    const [showPicture, setShowPicture] = useState(false); // New state variable to control showing the picture\r\n    const navigation = useNavigation();\r\n    const handleORCRScreen = () => {\r\n      navigation.navigate('FormScreen')\r\n    }\r\n\r\n    useEffect(() => {\r\n        requestPermission();\r\n    }, []);    \r\n\r\n    const requestPermission = async () => {\r\n        await requestCameraPermissionsAsync();\r\n    };    \r\n\r\n    const getPermission = async () => {\r\n        const cameraPermission = await getCameraPermissionsAsync();\r\n        return cameraPermission.granted;\r\n    };\r\n\r\n    const takePicture = async () => {\r\n      const { uri, width, height } = await cameraRef?.current.takePictureAsync();\r\n    \r\n      // Calculate the dimensions for cropping (adjust these values according to your needs)\r\n      const cropWidth = 2500;\r\n      const cropHeight = 1450;\r\n      const left = 270;\r\n      const top = 1300;\r\n\r\n      try {\r\n        // Crop the image with specified dimensions\r\n        const croppedImage = await ImageManipulator.manipulateAsync(\r\n          uri,\r\n          [{ crop: { originX: left, originY: top, width: cropWidth, height: cropHeight } }],\r\n          { compress: 0.8, format: ImageManipulator.SaveFormat.JPEG } // Adjust the compression quality here (0.8 means 80% quality)\r\n        );\r\n\r\n        // Set the cropped image URI\r\n        setPictureUri(croppedImage.uri);\r\n        setShowPicture(true);\r\n      } catch (error) {\r\n        console.log(\"Error cropping the image:\", error);\r\n        // Handle the error here\r\n      }\r\n    \r\n    };    \r\n\r\n\r\n    const cancelPicture = () => {\r\n        // Remove the displayed picture and go back to the camera preview\r\n        setPictureUri(\"\");\r\n        setShowPicture(false);\r\n      };    \r\n\r\n    const handleNextButton = async () => {\r\n      try {\r\n        // Make sure there's a picture to process\r\n        if (!pictureUri) {\r\n            Alert.alert(\"Please take a picture first.\");\r\n            return;\r\n        }\r\n\r\n        // Call the OCR.space API to extract text from the image\r\n        const apiKey = 'K82669019388957'; // Replace this with your OCR.space API key\r\n        const apiUrl = 'https://api.ocr.space/parse/image';\r\n\r\n        const formData = new FormData();\r\n        formData.append('apikey', apiKey);\r\n        formData.append('language', 'eng');\r\n        formData.append('isOverlayRequired', 'false');\r\n        formData.append('file', { uri: pictureUri, name: 'image.jpg', type: 'image/jpeg' }); // Use the 'uri' property here\r\n        formData.append('OCREngine', '2')\r\n\r\n        const response = await axios.post(apiUrl, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n\r\n        // Check if the response contains valid data and extracted text\r\n        if (response?.data?.ParsedResults?.length > 0) {\r\n            const extractedText = response.data.ParsedResults[0]?.ParsedText || \"No text found.\";\r\n\r\n            // Display the extracted text using an alert\r\n            //Alert.alert(\"Extracted Texts\", extractedText);\r\n        } else {\r\n            // If no valid data found, display an error message\r\n            Alert.alert(\"Text extraction failed. Please try again later.\");\r\n        }\r\n      } catch (error) {\r\n          console.log(\"Error extracting text:\", error);\r\n          Alert.alert(\"Error extracting text. Please try again later.\");\r\n          // Handle the error here\r\n      }\r\n\r\n    }\r\n\r\n    if (!getPermission()) {\r\n        return Alert.alert(\r\n            \"Permission Required!\",\r\n            \"You need to provide the permissions to access the camera\",\r\n            [{ text: \"Got it\" }]\r\n        );\r\n    }\r\n\r\n    const switchFlashMode = () => {\r\n        setFlash(flash === \"off\" ? \"on\" : \"off\");\r\n    };\r\n\r\n    const pickImage = async () => {\r\n\r\n      let result =  await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n        allowsEditing: true,\r\n        aspect: [16, 9],\r\n        quality: 0.8,\r\n      })\r\n\r\n      console.log(result);\r\n      if (!result.canceled) {\r\n        setPictureUri(result.assets[0].uri);\r\n        setShowPicture(true)\r\n      }\r\n\r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n  return(\r\n        <View style={styles.container}>\r\n        {/* Show the camera preview or the captured picture */}\r\n        {showPicture ? (\r\n          <View style={styles.pictureContainer}>\r\n            <Image style={styles.picture} source={{ uri: pictureUri }} />\r\n            <View style={{height: 250, width: 300, position:\"absolute\", marginTop: 550, top: 1, justifyContent:\"center\", alignItems:\"center\", flexDirection:\"row\"}}>\r\n                <ConstButtonShort onPress={cancelPicture} name=\"close\" title=\"Cancel\" backgroundColor=\"#C8B23D\"></ConstButtonShort>\r\n                <ConstButtonShort onPress={handleNextButton && handleORCRScreen} name=\"check\" title=\"Next\" backgroundColor=\"#5F5DC5\"></ConstButtonShort>\r\n            </View>\r\n\r\n          </View>\r\n        ) : (\r\n          <View style={styles.cameraContainer}>\r\n          <Camera ref={cameraRef} style={styles.camera} type={cameraMode} flashMode={flash}>\r\n            {/* Empty View for the Camera component */}\r\n          </Camera>   \r\n          <View style={styles.controlsContainer}>\r\n            <Feather name=\"image\" size={35} color=\"white\" onPress={pickImage} />\r\n            <TouchableOpacity style={styles.takePictureBtn} onPress={takePicture} />\r\n            <Feather\r\n              name={flash === \"off\" ? \"zap-off\" : \"zap\"}\r\n              size={30}\r\n              onPress={switchFlashMode}\r\n              color=\"white\"\r\n            />\r\n          </View>\r\n        </View>\r\n        )}\r\n  \r\n  {!showPicture && (\r\n        <View style={style}>\r\n          <Text style={styles.cardText}>{title}</Text>\r\n        </View>\r\n      )}\r\n    </View>\r\n  )\r\n\r\n\r\n\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n    },\r\n    cameraContainer: {\r\n      flex: 1,\r\n      position: \"relative\",\r\n    },\r\n    camera: {\r\n      flex: 1,\r\n    },\r\n    controlsContainer: {\r\n      backgroundColor: \"rgba(57, 92, 219, 1)\",\r\n      flexDirection: \"row\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    takePictureBtn: {\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: 35,\r\n      height: 70,\r\n      width: 70,\r\n      marginVertical: 10,\r\n    },\r\n    cardText: {\r\n      color: \"white\",\r\n      letterSpacing: 1.5,\r\n      textAlign: \"justify\",\r\n    },\r\n    pictureContainer: {\r\n      flex: 1,\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    picture: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      resizeMode: \"contain\",\r\n    },\r\n    cancelBtn: {\r\n      position: \"absolute\",\r\n      bottom: 100,\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: 10,\r\n      padding: 10,\r\n      right: 95,\r\n    },\r\n    cancelText: {\r\n      color: \"red\",\r\n      fontSize: 16,\r\n    },\r\n    nextBtn: {\r\n      position: \"absolute\",\r\n      bottom: 100,\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: 10,\r\n      padding: 10,\r\n      paddingHorizontal: 20,\r\n      left: 95\r\n    },\r\n    nextText: {\r\n      color: \"green\",\r\n      fontSize: 16,\r\n    },\r\n  });\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}